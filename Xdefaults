
Emacs.background: Black
Emacs.foreground: White


URxvt.geometry:   203x70
! NOTE(sdh): do not save any lines: prevent terminal intercepting scrollback
! URxvt.saveLines:  8192


! to match gnome-terminal "Linux console" scheme (foreground/background)
! NOTE(sdh): made colors brighter from originals (commented out #AA0000, etc)
! The downside of this is that non-bold background colors also get brighter.
! It would be nice if we could have the backgrounds stay the original dark
! colors, but still get brighter non-bold foreground.


URxvt*background: #000000
URxvt*foreground: #ffffff

! black
URxvt.color0  : #000000
URxvt.color8  : #555555

! red
!URxvt.color1  : #AA0000
!URxvt.color1  : #EE4444
URxvt.color1  : #DD3C3C
URxvt.color9  : #FF5555

! green
!URxvt.color2  : #00AA00
!URxvt.color2  : #44EE44
URxvt.color2  : #3CDD3C
URxvt.color10 : #55FF55

! yellow
!URxvt.color3  : #AA5500
URxvt.color3  : #DD9944
URxvt.color11 : #FFFF55

! blue
!URxvt.color4  : #0000AA
!URxvt.color4  : #4444EE
URxvt.color4  : #7777FF
!URxvt.color12 : #5555FF
URxvt.color12 : #7777FF

! magenta
!URxvt.color5  : #AA00AA
URxvt.color5  : #DD44DD
URxvt.color13 : #FF55FF

! cyan
!URxvt.color6  : #00AAAA
URxvt.color6  : #44DDDD
URxvt.color14 : #55FFFF

! white
!URxvt.color7  : #AAAAAA
URxvt.color7  : #CCCCCC
URxvt.color15 : #FFFFFF

!URxvt.font: xft:deja vu sans mono:size=9:antialias=true
!URxvt.font: xft:Monospace:pixelsize=13
!URxvt.font: xft:terminus:pixelsize=12
!URxvt.font: xft:Inconsolata:pixelsize=15:antialias=true
!URxvt.boldFont: xft:Monospace:pixelsize=11

!URxvt.font: xft:bitstream vera sans mono:size=9:antialias=true
!URxvt.font: xft:bitstream vera sans mono:pixelsize=11
!! latin modern px=15 is nice, but too tall
!URxvt.font: xft:latin modern mono:pixelsize=15
!Xft.dpi: 92


! Current favorite fonts:
URxvt.font: xft:monofur:pixelsize=14;antialias=true
!URxvt.font: xft:Inconsolata:pixelsize=15
!URxvt.font: xft:bitstream vera sans mono:pixelsize=13
URxvt.letterSpace: -1

!,tabbedex
URxvt.perl-ext-common : default,matcher,mycopy-osc,set-option-osc
URxvt.url-launcher    : google-chrome-beta
URxvt.matcher.button  : 1

! prevents man/less from disappearing from scrollback
URxvt.secondaryScreen : false

! TODO(sdh): consider using this (or temporary toggling via plugin, if that works)
!            once we figure out how to make tmux understand S-PPage and S-NPage
!            and do the right thing with the history there...
URxvt.saveLines : 0

URxvt.depth: 32
URxvt.background: rgba:0000/0000/0000/f800

URxvt.termName: rxvt-unicode-256color

URxvt.scrollBar: false

! Note: sends S-<f9>
!URxvt.keysym.C-BackSpace: \033[33~
!URxvt.keysym.C-Up: \033[1;5A
!URxvt.keysym.C-Down: \033[1;5B
!URxvt.keysym.C-Right: \033[1;5C
!URxvt.keysym.C-Left: \033[1;5D

! Note: C-S-{Left,Right} sends \e [ 1 ; 6 {D,C} in the mac

! These seem to work better - M-Od for backwards-word
!URxvt.keysym.C-Up: \033OA
!URxvt.keysym.C-Down: \033OB
!URxvt.keysym.C-Right: \033OC
!URxvt.keysym.C-Left: \033OD

! Send C-Z c on C-S-N to make a new window.  This is crummy.
! (\032 is C-Z)
!URxvt.keysym.C-S-N: \032c
!URxvt.keysym.C-Prior: \032p
!URxvt.keysym.C-Next: \032n
!URxvt.keysym.C-S-Prior: \032P
!URxvt.keysym.C-S-Next: \032N

! handle c-shift better
URxvt.iso14755: false
!URxvt.iso14755_52: false


!URxvt.iconFile: /usr/share/icons/gnome/32x32/apps/gnome-terminal.png
URxvt.iconFile: /usr/share/icons/Tango/32x32/apps/terminal.png

!! tmux 1.5 renders italics "properly", but it is harder to spot at a glance,
!! so instead we highlight them extra.  An alternative is screen-noit
!URxvt.colorIT: #ff0000


!! REMAP KEYS
!!
!! The basic strategy here is to use an F-key prefix.  Note that rxvt
!! sends << ESC [ %02d ~ >> for F keys, where the placeholder increases
!! with the F-number (F1-F5 send 11-15, F6-F10 send 17-21, F11-F12 send
!! 23-24).  Interestingly, shifted F-keys continue the sequence, more
!! or less, with (shift+F1-F4 sending 23-26, shift+F5-F6 sending 28-29,
!! shift+F7-F10 sending 31-34, and shift+F11-F12 breaking the pattern
!! entirely by using 33 and 34 again, but with a $ at the end instead of
!! a ~).  Ctrl sends ^ at the end instead of ~ (except for C-Shift-F11/12
!! which send @ instead of $).
!!
!! We therefore pick 36 as our special prefix, sending << ESC [ 3 6 ~ >>,
!! which we will call @36 below.
!!
!! At one point we played with using << ESC [ 3 7 ~ >> as a prefix for
!! mod4 (super), but as far as I can tell we do not actually use it (and
!! it clobbers AwesomeWM keybindings anyway).
!!
!! List of all keys (note: xev shows keysym)
!!   * letters
!!   * numbers (exclam, at, numbersign, dollar, percent, ampersand, asterisk,
!!              paren{left,right})
!!   * 11 unshifted symbols
!!      - grave (asciitilde), minus (underscore), equal (plus)
!!      - bracket{left,right} (brace{left,right}), backslash (bar)
!!      - semicolon (colon), apostrophe (quotedbl)
!!      - comma (less), period (greater), slash (question)
!!   * escape, F-keys
!!   * navigation (ins/del, hom/end, pup/pdn, arrows)
!!   * backspace, tab, enter, space
!!
!! Survey of various modifier combinations that need addressing:
!!   (none) -
!!     * Letters, numbers, unshifted symbols all send themselves
!!     * Arrow keys send << ESC [ %c >>, with A/B/C/D for up/down/right/left.
!!     * INS, DEL, PUP, PDN, HOM, END: send F-sequence with 2, 3, 5, 6, 7, 8.
!!     * BACKSPACE: \x7f,   TAB: \x09,   ENTER: \x0a,   SPACE: \x20
!!   Meta - prefixes the no-modifier case with ESC, even if there was
!!          one there already (e.g. M-INS sends << ESC ESC [ 2 ~ >>).
!!   Control -
!!     * Letters x <- ['A'..'Z'], sends a single byte, ord(x)-0x40,
!!       regardless of whether shift is pressed.  Meta prefixes with ESC.
!!     * BACKSPACE: \x08.
!!       -> [1] actually just remap to ESC BACKSPACE
!!     * SPACE: I believe this becomes NUL (\x00), but hard to verify.
!!     * INS, HOME, PGUP, DEL, END, PGDN: act like F-keys with numbers
!!       2, 7, 5, 3, 8, 6, respectively, and thus send ^ instead of ~.
!!       (NOTE: these don't seem to get through tmux for some reason)
!!     * [, \, and ]: also subtracts 0x40, for \x1b (ESC), \x1c (FILE
!!       SEPARATOR), and \x1d (GROUP SEPARATOR).  \x1c can cause problems,
!!       but emacs handles C-\ correctly, so do not remap this one.
!!       -> [2] remap with other symbols to << @36 sym >> since more useful
!!     * TAB, ENTER, and all other digits/symbols simply ignore the modifier.
!!       -> do not remap Ctrl-Tab for now
!!       -> [2] remap Ctrl-all others to @36 prefix plus unmodified sequence
!!          (includes digits, backtick, hyphen, equals, brackets, backslash,
!!          semicolon, comma, period, slash)
!!       -> [3] remap Ctrl-Enter to same as Ctrl-Shift-J
!!   Shift -
!!     * Printable chars are obvious.
!!     * TAB: << ESC [ Z >> ("backtab").
!!     * INS: unknown, the window manager pastes before I see it.
!!     * HOME, PGUP, DEL, END, PGDN: send $ instead of ~
!!     * BACKSPACE, SPACE, ENTER: ignores the shift.
!!       -> do not remap for now
!!   Control-Shift -
!!     * INS/HOM/PUP/DEL/END/PDN: @ suffix - no problem
!!     * F-keys - sends ^ (ctrl) suffix with shifted number
!!     * Letters ignore the shift.
!!       -> [4] remap to @36 prefix plus the normal control character
!!     * TILDE, UNDERSCORE, QUESTION - send \x1e, \x1f, \x7f
!!       -> [5] only remap question mark (since \x7f is backspace), others okay
!!     * Digits and other symbols ignore the control
!!       -> [5] remap to @36 prefix plus the normal shifted character
!!     * BACKSPACE, SPACE: ignores the shift
!!       -> do not remap for now
!!     * ENTER: ignores both
!!       -> do not remap for now
!!   Control-Meta -
!!     * Letters - send ESC prefix to Ctrl-letter
!!     * Numbers, unshifted symbols - ignore control
!!       -> [6] remap same as Ctrl only [2], but add ESC after @36
!!   Control-Meta-Shift -
!!     * Letters - ignores shift (I think?)
!!       -> [7] remap to << @36 ESC control-char >> (cf. [4])
!!     * Numbers and symbols - ignores control
!!       -> [8] remap to << @36 ESC shifted-symbol >> (cf. [5])
!!          includes braces and pipe this time

!! TODO(sdh): Fill out a few more Meta combinations
!! TODO(sdh): Consider remapping modifiers w/ KP_* (where * is 0-9, decimal,
!!            multiply, add, divide, subtract, enter, equal - use @37 ??
!!            - use some other char after @36 ??
!!            - teach sdh-kbd to support KP_ prefixes (but use normal name)
!! TODO(sdh): Consider being more consistent with modifiers - maybe use a
!!            bitmask?  \e[4x~ where x is 1..7 for diff modifiers?

!! [1] Convert C-Backspace to M-Backspace
!!   - This is a weird one to remap in emacs/zsh, so we just remap it here.

URxvt.keysym.C-BackSpace: \033\177


!! [2] Convert C-? (for ? digits or symbols) to << @36 ? >>

URxvt.keysym.Control-0: \033[36~0
URxvt.keysym.Control-1: \033[36~1
URxvt.keysym.Control-2: \033[36~2
URxvt.keysym.Control-3: \033[36~3
URxvt.keysym.Control-4: \033[36~4
URxvt.keysym.Control-5: \033[36~5
URxvt.keysym.Control-6: \033[36~6
URxvt.keysym.Control-7: \033[36~7
URxvt.keysym.Control-8: \033[36~8
URxvt.keysym.Control-9: \033[36~9

URxvt.keysym.Control-grave: \033[36~\140
URxvt.keysym.Control-minus: \033[36~\055
URxvt.keysym.Control-equal: \033[36~\075
URxvt.keysym.Control-bracketleft: \033[36~\133
URxvt.keysym.Control-bracketright: \033[36~\135
URxvt.keysym.Control-backslash: \033[36~\134
URxvt.keysym.Control-semicolon: \033[36~\073
URxvt.keysym.Control-apostrophe: \033[36~\047
URxvt.keysym.Control-comma: \033[36~\054
URxvt.keysym.Control-period: \033[36~\056
URxvt.keysym.Control-slash: \033[36~\057


!! [3] Convert C-Enter to C-Shift-J
!!   - I do not remember why we did this...

URxvt.keysym.Control-Return: \033[36~\015


!! [4] Convert C-Shift-Letter to << @36 control-code >>
!    - TODO(sdh): why does the "list:" operator not work for this?

URxvt.keysym.Control-Shift-A: \033[36~\001
URxvt.keysym.Control-Shift-B: \033[36~\002
URxvt.keysym.Control-Shift-C: \033[36~\003
URxvt.keysym.Control-Shift-D: \033[36~\004
URxvt.keysym.Control-Shift-E: \033[36~\005
URxvt.keysym.Control-Shift-F: \033[36~\006
URxvt.keysym.Control-Shift-G: \033[36~\007
URxvt.keysym.Control-Shift-H: \033[36~\010
URxvt.keysym.Control-Shift-I: \033[36~\011
URxvt.keysym.Control-Shift-J: \033[36~\012
URxvt.keysym.Control-Shift-K: \033[36~\013
URxvt.keysym.Control-Shift-L: \033[36~\014
URxvt.keysym.Control-Shift-M: \033[36~\015
URxvt.keysym.Control-Shift-N: \033[36~\016
URxvt.keysym.Control-Shift-O: \033[36~\017
URxvt.keysym.Control-Shift-P: \033[36~\020
URxvt.keysym.Control-Shift-Q: \033[36~\021
URxvt.keysym.Control-Shift-R: \033[36~\022
URxvt.keysym.Control-Shift-S: \033[36~\023
URxvt.keysym.Control-Shift-T: \033[36~\024
URxvt.keysym.Control-Shift-U: \033[36~\025
URxvt.keysym.Control-Shift-V: \033[36~\026
URxvt.keysym.Control-Shift-W: \033[36~\027
URxvt.keysym.Control-Shift-X: \033[36~\030
URxvt.keysym.Control-Shift-Y: \033[36~\031
URxvt.keysym.Control-Shift-Z: \033[36~\032


!! [5] Convert C-Shift-? (for ? digit or symbol) to << @36 shifted-symbol >>

URxvt.keysym.Control-exclam: \033[36~\041
URxvt.keysym.Control-at: \033[36~\100
URxvt.keysym.Control-numbersign: \033[36~\043
URxvt.keysym.Control-dollar: \033[36~\044
URxvt.keysym.Control-percent: \033[36~\045
URxvt.keysym.Control-asciicircum: \033[36~\136
URxvt.keysym.Control-ampersand: \033[36~\046
URxvt.keysym.Control-asterisk: \033[36~\052
URxvt.keysym.Control-parenleft: \033[36~\050
URxvt.keysym.Control-parenright: \033[36~\051

! skip tilde and underscore since they have dedicated sequences
URxvt.keysym.Control-plus: \033[36~\053
! skip curlies and pipe to just send \x1[bdc] since these are sometimes useful??
URxvt.keysym.Control-colon: \033[36~\072
URxvt.keysym.Control-quotedbl: \033[36~\042
URxvt.keysym.Control-less: \033[36~\074
URxvt.keysym.Control-greater: \033[36~\076
URxvt.keysym.Control-question: \033[36~\077


!! [6] Convert C-M-? to insert ESC after the @36 from C-? (cf. [2])

URxvt.keysym.Control-Meta-0: \033[36~\0330
URxvt.keysym.Control-Meta-1: \033[36~\0331
URxvt.keysym.Control-Meta-2: \033[36~\0332
URxvt.keysym.Control-Meta-3: \033[36~\0333
URxvt.keysym.Control-Meta-4: \033[36~\0334
URxvt.keysym.Control-Meta-5: \033[36~\0335
URxvt.keysym.Control-Meta-6: \033[36~\0336
URxvt.keysym.Control-Meta-7: \033[36~\0337
URxvt.keysym.Control-Meta-8: \033[36~\0338
URxvt.keysym.Control-Meta-9: \033[36~\0339

URxvt.keysym.Control-Meta-grave: \033[36~\033\140
URxvt.keysym.Control-Meta-minus: \033[36~\033\055
URxvt.keysym.Control-Meta-equal: \033[36~\033\075
URxvt.keysym.Control-Meta-bracketleft: \033[36~\033\133
URxvt.keysym.Control-Meta-bracketright: \033[36~\033\135
URxvt.keysym.Control-Meta-backslash: \033[36~\033\134
URxvt.keysym.Control-Meta-semicolon: \033[36~\033\073
URxvt.keysym.Control-Meta-apostrophe: \033[36~\033\047
URxvt.keysym.Control-Meta-comma: \033[36~\033\054
URxvt.keysym.Control-Meta-period: \033[36~\033\056
URxvt.keysym.Control-Meta-slash: \033[36~\033\057


!! [7] Convert C-M-Shift-Letter to insert ESC after the @36 from C-Shift-Letter

URxvt.keysym.Control-Meta-Shift-A: \033[36~\033\001
URxvt.keysym.Control-Meta-Shift-B: \033[36~\033\002
URxvt.keysym.Control-Meta-Shift-C: \033[36~\033\003
URxvt.keysym.Control-Meta-Shift-D: \033[36~\033\004
URxvt.keysym.Control-Meta-Shift-E: \033[36~\033\005
URxvt.keysym.Control-Meta-Shift-F: \033[36~\033\006
URxvt.keysym.Control-Meta-Shift-G: \033[36~\033\007
URxvt.keysym.Control-Meta-Shift-H: \033[36~\033\010
URxvt.keysym.Control-Meta-Shift-I: \033[36~\033\011
URxvt.keysym.Control-Meta-Shift-J: \033[36~\033\012
URxvt.keysym.Control-Meta-Shift-K: \033[36~\033\013
URxvt.keysym.Control-Meta-Shift-L: \033[36~\033\014
URxvt.keysym.Control-Meta-Shift-M: \033[36~\033\015
URxvt.keysym.Control-Meta-Shift-N: \033[36~\033\016
URxvt.keysym.Control-Meta-Shift-O: \033[36~\033\017
URxvt.keysym.Control-Meta-Shift-P: \033[36~\033\020
URxvt.keysym.Control-Meta-Shift-Q: \033[36~\033\021
URxvt.keysym.Control-Meta-Shift-R: \033[36~\033\022
URxvt.keysym.Control-Meta-Shift-S: \033[36~\033\023
URxvt.keysym.Control-Meta-Shift-T: \033[36~\033\024
URxvt.keysym.Control-Meta-Shift-U: \033[36~\033\025
URxvt.keysym.Control-Meta-Shift-V: \033[36~\033\026
URxvt.keysym.Control-Meta-Shift-W: \033[36~\033\027
URxvt.keysym.Control-Meta-Shift-X: \033[36~\033\030
URxvt.keysym.Control-Meta-Shift-Y: \033[36~\033\031
URxvt.keysym.Control-Meta-Shift-Z: \033[36~\033\032


!! [8] Convert C-M-Shift-? (for ? digit or symbol) to [5] w/ extra ESC
! TODO(sdh): add remaining C-M-S keys?

URxvt.keysym.Control-Meta-exclam: \033[36~\033\041
URxvt.keysym.Control-Meta-at: \033[36~\033\100
URxvt.keysym.Control-Meta-numbersign: \033[36~\033\043
URxvt.keysym.Control-Meta-dollar: \033[36~\033\044
URxvt.keysym.Control-Meta-percent: \033[36~\033\045
URxvt.keysym.Control-Meta-asciicircum: \033[36~\033\136
URxvt.keysym.Control-Meta-ampersand: \033[36~\033\046
URxvt.keysym.Control-Meta-asterisk: \033[36~\033\052
URxvt.keysym.Control-Meta-parenleft: \033[36~\033\050
URxvt.keysym.Control-Meta-parenright: \033[36~\033\051

! skip tilde and underscore since they have dedicated sequences
URxvt.keysym.Control-Meta-plus: \033[36~\033\053
URxvt.keysym.Control-Meta-braceleft: \033[36~\033\173
URxvt.keysym.Control-Meta-braceright: \033[36~\033\175
URxvt.keysym.Control-Meta-bar: \033[36~\033\175
URxvt.keysym.Control-Meta-colon: \033[36~\033\072
URxvt.keysym.Control-Meta-quotedbl: \033[36~\033\042
URxvt.keysym.Control-Meta-less: \033[36~\033\074
URxvt.keysym.Control-Meta-greater: \033[36~\033\076
URxvt.keysym.Control-Meta-question: \033[36~\033\077
